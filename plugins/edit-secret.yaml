apiVersion: krew.googlecontainertools.github.com/v1alpha2
kind: Plugin
metadata:
  name: edit-secret
spec:
  version: v0.1.0
  homepage: https://github.com/BardiaYaghmaie/kubectl-edit-secret
  shortDescription: Edit secrets with decoded base64 values
  description: |
    Edit Kubernetes secrets by automatically decoding base64 values before
    opening in your editor, then re-encoding and applying changes on save.
    
    This plugin removes the need to manually decode and encode base64 values
    when working with secrets. It fetches the secret, decodes all data fields,
    opens them in a clean YAML format in your preferred editor, and handles
    the re-encoding transparently.
    
    Supports editing all keys in a secret or a specific key. Works with
    standard kubectl flags including namespace, context, and kubeconfig.
  caveats: |
    This plugin requires an editor to be available. Set $EDITOR or $KUBE_EDITOR,
    or use the --editor flag to specify your preferred editor.
  platforms:
  - selector:
      matchLabels:
        os: linux
        arch: amd64
    uri: https://github.com/BardiaYaghmaie/kubectl-edit-secret/releases/download/v0.1.0/kubectl-edit-secret_linux_amd64.tar.gz
    sha256: e1b3067280b713954f1478112a7f0653b9d912d1d8489fb8c9e26e55b15baba8
    bin: kubectl-edit_secret
  - selector:
      matchLabels:
        os: linux
        arch: arm64
    uri: https://github.com/BardiaYaghmaie/kubectl-edit-secret/releases/download/v0.1.0/kubectl-edit-secret_linux_arm64.tar.gz
    sha256: 1ea0280c2529d6f3f632472f48071f4c3eab074cec536c237c018409d97ab2de
    bin: kubectl-edit_secret
  - selector:
      matchLabels:
        os: darwin
        arch: amd64
    uri: https://github.com/BardiaYaghmaie/kubectl-edit-secret/releases/download/v0.1.0/kubectl-edit-secret_darwin_amd64.tar.gz
    sha256: aa06882d4efb5fd7c3e7ee50bf7d13b2121af4c884baef2640ae342b5043cd4c
    bin: kubectl-edit_secret
  - selector:
      matchLabels:
        os: darwin
        arch: arm64
    uri: https://github.com/BardiaYaghmaie/kubectl-edit-secret/releases/download/v0.1.0/kubectl-edit-secret_darwin_arm64.tar.gz
    sha256: 051d143c2eb16aaa3e2a364e5f11248d0c166be0e6c7539c79956d96b497b8f8
    bin: kubectl-edit_secret
  - selector:
      matchLabels:
        os: windows
        arch: amd64
    uri: https://github.com/BardiaYaghmaie/kubectl-edit-secret/releases/download/v0.1.0/kubectl-edit-secret_windows_amd64.zip
    sha256: 79777dad056d4e3ed606d4a7e9bbf7b67bc1ebced60ecc1a2e0ed99b5e9f1f0a
    bin: kubectl-edit_secret.exe
